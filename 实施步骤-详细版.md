# ä¸€æ­¥æ­¥åˆ¶ä½œAIå­—å…¸åº”ç”¨ - è¯¦ç»†æ­¥éª¤

## ğŸ¯ ç›®æ ‡
åˆ›å»ºä¸€ä¸ªå®Œæ•´çš„AIå­—å…¸åº”ç”¨ï¼Œ**ä¸éœ€è¦æ•°æ®åº“å’Œå­˜å‚¨æœåŠ¡**ï¼Œä½¿ç”¨æµè§ˆå™¨æœ¬åœ°å­˜å‚¨ã€‚

---

## ğŸ“‹ å‡†å¤‡å·¥ä½œ

### 1. å®‰è£…Node.js
- è®¿é—® https://nodejs.org/
- ä¸‹è½½å¹¶å®‰è£…LTSç‰ˆæœ¬
- éªŒè¯ï¼šæ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ `node -v`ï¼Œåº”è¯¥æ˜¾ç¤ºç‰ˆæœ¬å·

### 2. è·å–OpenAI APIå¯†é’¥
- è®¿é—® https://platform.openai.com
- æ³¨å†Œ/ç™»å½•è´¦å·
- ç‚¹å‡»å³ä¸Šè§’å¤´åƒ â†’ API Keys
- ç‚¹å‡» "Create new secret key"
- **é‡è¦**ï¼šå¤åˆ¶å¯†é’¥å¹¶ä¿å­˜å¥½ï¼ˆåªæ˜¾ç¤ºä¸€æ¬¡ï¼‰

---

## ğŸš€ ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºé¡¹ç›®ï¼ˆ15åˆ†é’Ÿï¼‰

### 1.1 åˆ›å»ºNext.jsé¡¹ç›®
æ‰“å¼€ç»ˆç«¯ï¼Œæ‰§è¡Œï¼š

```bash
# åˆ›å»ºé¡¹ç›®
npx create-next-app@latest dictionary-app --typescript --tailwind --app --no-src-dir

# è¿›å…¥é¡¹ç›®ç›®å½•
cd dictionary-app
```

### 1.2 å®‰è£…ä¾èµ–
```bash
npm install openai framer-motion lucide-react
```

### 1.3 åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶
åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env.local` æ–‡ä»¶ï¼š

```env
OPENAI_API_KEY=ä½ çš„OpenAIå¯†é’¥ï¼ˆç²˜è´´åˆ°è¿™é‡Œï¼‰
```

**âš ï¸ æ³¨æ„**ï¼š`.env.local` æ–‡ä»¶å·²ç»åœ¨ `.gitignore` ä¸­ï¼Œä¸ä¼šè¢«ä¸Šä¼ åˆ°GitHubã€‚

---

## ğŸ¨ ç¬¬äºŒæ­¥ï¼šåˆ›å»ºåŸºç¡€ç»„ä»¶ï¼ˆ30åˆ†é’Ÿï¼‰

### 2.1 åˆ›å»ºè¯­è¨€é€‰æ‹©å™¨ç»„ä»¶

åˆ›å»ºæ–‡ä»¶ï¼š`app/components/LanguageSelector.tsx`

```typescript
'use client'

import { useState } from 'react'

const LANGUAGES = [
  { code: 'en', name: 'English' },
  { code: 'es', name: 'Spanish' },
  { code: 'zh', name: 'Chinese' },
  { code: 'hi', name: 'Hindi' },
  { code: 'ar', name: 'Arabic' },
  { code: 'pt', name: 'Portuguese' },
  { code: 'bn', name: 'Bengali' },
  { code: 'ru', name: 'Russian' },
  { code: 'ja', name: 'Japanese' },
  { code: 'fr', name: 'French' },
]

interface LanguageSelectorProps {
  nativeLanguage: string
  targetLanguage: string
  onNativeChange: (lang: string) => void
  onTargetChange: (lang: string) => void
}

export default function LanguageSelector({
  nativeLanguage,
  targetLanguage,
  onNativeChange,
  onTargetChange,
}: LanguageSelectorProps) {
  return (
    <div className="flex gap-4 mb-6">
      <div className="flex-1">
        <label className="block text-sm font-medium mb-2">æˆ‘çš„è¯­è¨€</label>
        <select
          value={nativeLanguage}
          onChange={(e) => onNativeChange(e.target.value)}
          className="w-full p-2 border rounded"
        >
          {LANGUAGES.map((lang) => (
            <option key={lang.code} value={lang.code}>
              {lang.name}
            </option>
          ))}
        </select>
      </div>
      <div className="flex-1">
        <label className="block text-sm font-medium mb-2">å­¦ä¹ è¯­è¨€</label>
        <select
          value={targetLanguage}
          onChange={(e) => onTargetChange(e.target.value)}
          className="w-full p-2 border rounded"
        >
          {LANGUAGES.map((lang) => (
            <option key={lang.code} value={lang.code}>
              {lang.name}
            </option>
          ))}
        </select>
      </div>
    </div>
  )
}
```

### 2.2 åˆ›å»ºæŸ¥è¯¢è¡¨å•ç»„ä»¶

åˆ›å»ºæ–‡ä»¶ï¼š`app/components/LookupForm.tsx`

```typescript
'use client'

import { useState } from 'react'

interface LookupFormProps {
  onSubmit: (word: string) => void
  isLoading: boolean
}

export default function LookupForm({ onSubmit, isLoading }: LookupFormProps) {
  const [word, setWord] = useState('')

  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault()
    if (word.trim()) {
      onSubmit(word.trim())
    }
  }

  return (
    <form onSubmit={handleSubmit} className="mb-6">
      <div className="flex gap-2">
        <input
          type="text"
          value={word}
          onChange={(e) => setWord(e.target.value)}
          placeholder="è¾“å…¥å•è¯ã€çŸ­è¯­æˆ–å¥å­..."
          className="flex-1 p-3 border rounded-lg"
          disabled={isLoading}
        />
        <button
          type="submit"
          disabled={isLoading}
          className="px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50"
        >
          {isLoading ? 'æŸ¥è¯¢ä¸­...' : 'æŸ¥è¯¢'}
        </button>
      </div>
    </form>
  )
}
```

---

## ğŸ¤– ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºAIæœåŠ¡ï¼ˆ20åˆ†é’Ÿï¼‰

### 3.1 åˆ›å»ºAIå·¥å…·æ–‡ä»¶

åˆ›å»ºæ–‡ä»¶ï¼š`app/lib/ai.ts`

è¿™ä¸ªæ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œæ£€æŸ¥ä¸€ä¸‹æ˜¯å¦æœ‰ `OPENAI_API_KEY` çš„æ£€æŸ¥ã€‚

---

## ğŸ” ç¬¬å››æ­¥ï¼šåˆ›å»ºæŸ¥è¯¢åŠŸèƒ½ï¼ˆ30åˆ†é’Ÿï¼‰

### 4.1 åˆ›å»ºæŸ¥è¯¢APIè·¯ç”±

æ–‡ä»¶ï¼š`app/api/lookup/route.ts` åº”è¯¥å·²ç»å­˜åœ¨ã€‚

### 4.2 åˆ›å»ºç»“æœæ˜¾ç¤ºç»„ä»¶

åˆ›å»ºæ–‡ä»¶ï¼š`app/components/ResultCard.tsx`

```typescript
'use client'

import { useState } from 'react'
import { saveNotebookEntry } from '@/app/lib/notebook-api'

interface ResultCardProps {
  word: string
  definition: string
  imageUrl?: string
  examples: Array<{ sentence: string; translation: string }>
  usageNote: string
  targetLanguage: string
  nativeLanguage: string
  onSave?: () => void
}

export default function ResultCard({
  word,
  definition,
  imageUrl,
  examples,
  usageNote,
  targetLanguage,
  nativeLanguage,
  onSave,
}: ResultCardProps) {
  const [saving, setSaving] = useState(false)
  const [saved, setSaved] = useState(false)

  const handleSave = async () => {
    setSaving(true)
    try {
      await saveNotebookEntry({
        word,
        targetLanguage,
        nativeLanguage,
        definition,
        imageUrl,
        exampleSentence1: examples[0]?.sentence || '',
        exampleSentence2: examples[1]?.sentence || '',
        exampleTranslation1: examples[0]?.translation || '',
        exampleTranslation2: examples[1]?.translation || '',
        usageNote,
      })
      setSaved(true)
      onSave?.()
    } catch (error) {
      console.error('ä¿å­˜å¤±è´¥:', error)
    } finally {
      setSaving(false)
    }
  }

  return (
    <div className="bg-white rounded-lg shadow-lg p-6">
      <div className="flex justify-between items-start mb-4">
        <h2 className="text-2xl font-bold">{word}</h2>
        <button
          onClick={handleSave}
          disabled={saving || saved}
          className="px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 disabled:opacity-50"
        >
          {saved ? 'å·²ä¿å­˜' : saving ? 'ä¿å­˜ä¸­...' : 'ä¿å­˜åˆ°ç¬”è®°æœ¬'}
        </button>
      </div>

      <p className="text-gray-700 mb-4">{definition}</p>

      {imageUrl && (
        <img
          src={imageUrl}
          alt={word}
          className="w-full rounded-lg mb-4"
        />
      )}

      <div className="mb-4">
        <h3 className="font-semibold mb-2">ä¾‹å¥ï¼š</h3>
        {examples.map((example, index) => (
          <div key={index} className="mb-2">
            <p className="text-gray-800">{example.sentence}</p>
            <p className="text-gray-500 text-sm">{example.translation}</p>
          </div>
        ))}
      </div>

      <div className="bg-blue-50 p-3 rounded">
        <p className="text-sm text-gray-700">{usageNote}</p>
      </div>
    </div>
  )
}
```

---

## ğŸ“ ç¬¬äº”æ­¥ï¼šåˆ›å»ºä¸»é¡µé¢ï¼ˆ20åˆ†é’Ÿï¼‰

### 5.1 ä¿®æ”¹ä¸»é¡µé¢

ç¼–è¾‘æ–‡ä»¶ï¼š`app/page.tsx`

```typescript
'use client'

import { useState } from 'react'
import LanguageSelector from './components/LanguageSelector'
import LookupForm from './components/LookupForm'
import ResultCard from './components/ResultCard'

export default function Home() {
  const [nativeLanguage, setNativeLanguage] = useState('zh')
  const [targetLanguage, setTargetLanguage] = useState('en')
  const [word, setWord] = useState('')
  const [result, setResult] = useState<any>(null)
  const [loading, setLoading] = useState(false)
  const [error, setError] = useState('')

  const handleLookup = async (searchWord: string) => {
    setLoading(true)
    setError('')
    setResult(null)

    try {
      const response = await fetch('/api/lookup', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({
          word: searchWord,
          targetLanguage,
          nativeLanguage,
        }),
      })

      if (!response.ok) {
        throw new Error('æŸ¥è¯¢å¤±è´¥')
      }

      const data = await response.json()
      setResult(data)
      setWord(searchWord)
    } catch (err) {
      setError('æŸ¥è¯¢å¤±è´¥ï¼Œè¯·é‡è¯•')
      console.error(err)
    } finally {
      setLoading(false)
    }
  }

  return (
    <main className="min-h-screen p-8 bg-gray-50">
      <div className="max-w-4xl mx-auto">
        <h1 className="text-4xl font-bold text-center mb-8">
          AIæ™ºèƒ½å­—å…¸
        </h1>

        <LanguageSelector
          nativeLanguage={nativeLanguage}
          targetLanguage={targetLanguage}
          onNativeChange={setNativeLanguage}
          onTargetChange={setTargetLanguage}
        />

        <LookupForm onSubmit={handleLookup} isLoading={loading} />

        {error && (
          <div className="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4">
            {error}
          </div>
        )}

        {result && (
          <ResultCard
            word={word}
            definition={result.definition}
            imageUrl={result.imageUrl}
            examples={result.examples}
            usageNote={result.usageNote}
            targetLanguage={targetLanguage}
            nativeLanguage={nativeLanguage}
          />
        )}
      </div>
    </main>
  )
}
```

---

## ğŸ§ª ç¬¬å…­æ­¥ï¼šæµ‹è¯•åŸºæœ¬åŠŸèƒ½ï¼ˆ10åˆ†é’Ÿï¼‰

### 6.1 å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

### 6.2 æ‰“å¼€æµè§ˆå™¨

è®¿é—® http://localhost:3000

### 6.3 æµ‹è¯•æŸ¥è¯¢

1. é€‰æ‹©è¯­è¨€ï¼ˆä¾‹å¦‚ï¼šä¸­æ–‡ â†’ è‹±è¯­ï¼‰
2. è¾“å…¥ä¸€ä¸ªå•è¯ï¼ˆä¾‹å¦‚ï¼šhelloï¼‰
3. ç‚¹å‡»æŸ¥è¯¢
4. ç­‰å¾…ç»“æœï¼ˆå¯èƒ½éœ€è¦å‡ ç§’é’Ÿï¼‰

**å¦‚æœå‡ºç°é”™è¯¯ï¼š**
- æ£€æŸ¥ `.env.local` ä¸­çš„ `OPENAI_API_KEY` æ˜¯å¦æ­£ç¡®
- æ£€æŸ¥ç»ˆç«¯ä¸­çš„é”™è¯¯ä¿¡æ¯
- ç¡®ä¿OpenAIè´¦æˆ·æœ‰ä½™é¢

---

## ğŸ“š ç¬¬ä¸ƒæ­¥ï¼šåˆ›å»ºç¬”è®°æœ¬åŠŸèƒ½ï¼ˆ40åˆ†é’Ÿï¼‰

### 7.1 ä½¿ç”¨å·²åˆ›å»ºçš„å­˜å‚¨å·¥å…·

æ–‡ä»¶ `app/lib/storage.ts` å’Œ `app/lib/notebook-api.ts` å·²ç»åˆ›å»ºå¥½äº†ã€‚

### 7.2 åˆ›å»ºç¬”è®°æœ¬é¡µé¢

åˆ›å»ºæ–‡ä»¶ï¼š`app/notebook/page.tsx`

```typescript
'use client'

import { useEffect, useState } from 'react'
import { fetchNotebookEntries, removeNotebookEntry, NotebookEntry } from '@/app/lib/notebook-api'
import Link from 'next/link'

export default function NotebookPage() {
  const [entries, setEntries] = useState<NotebookEntry[]>([])
  const [loading, setLoading] = useState(true)

  const loadEntries = async () => {
    setLoading(true)
    const data = await fetchNotebookEntries()
    setEntries(data)
    setLoading(false)
  }

  useEffect(() => {
    loadEntries()
  }, [])

  const handleDelete = async (id: string) => {
    if (confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªè¯å—ï¼Ÿ')) {
      await removeNotebookEntry(id)
      loadEntries()
    }
  }

  if (loading) {
    return <div className="p-8 text-center">åŠ è½½ä¸­...</div>
  }

  return (
    <main className="min-h-screen p-8 bg-gray-50">
      <div className="max-w-4xl mx-auto">
        <div className="flex justify-between items-center mb-6">
          <h1 className="text-3xl font-bold">æˆ‘çš„ç¬”è®°æœ¬</h1>
          <Link
            href="/"
            className="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"
          >
            è¿”å›æŸ¥è¯¢
          </Link>
        </div>

        {entries.length === 0 ? (
          <div className="text-center py-12 text-gray-500">
            <p>ç¬”è®°æœ¬æ˜¯ç©ºçš„</p>
            <p className="text-sm mt-2">å»æŸ¥è¯¢ä¸€äº›å•è¯å¹¶ä¿å­˜å§ï¼</p>
          </div>
        ) : (
          <div className="space-y-4">
            {entries.map((entry) => (
              <div
                key={entry.id}
                className="bg-white rounded-lg shadow p-6"
              >
                <div className="flex justify-between items-start">
                  <div className="flex-1">
                    <h2 className="text-xl font-bold mb-2">{entry.word}</h2>
                    <p className="text-gray-700 mb-2">{entry.definition}</p>
                    {entry.imageUrl && (
                      <img
                        src={entry.imageUrl}
                        alt={entry.word}
                        className="w-32 h-32 object-cover rounded mb-2"
                      />
                    )}
                    <div className="text-sm text-gray-500">
                      <p>{entry.exampleSentence1}</p>
                      <p>{entry.exampleTranslation1}</p>
                    </div>
                  </div>
                  <button
                    onClick={() => handleDelete(entry.id)}
                    className="ml-4 px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600"
                  >
                    åˆ é™¤
                  </button>
                </div>
              </div>
            ))}
          </div>
        )}
      </div>
    </main>
  )
}
```

### 7.3 åœ¨ä¸»é¡µé¢æ·»åŠ ç¬”è®°æœ¬é“¾æ¥

ä¿®æ”¹ `app/page.tsx`ï¼Œåœ¨é¡¶éƒ¨æ·»åŠ é“¾æ¥ï¼š

```typescript
<Link href="/notebook" className="absolute top-4 right-4 px-4 py-2 bg-green-500 text-white rounded">
  æˆ‘çš„ç¬”è®°æœ¬
</Link>
```

---

## ğŸ´ ç¬¬å…«æ­¥ï¼šåˆ›å»ºå­¦ä¹ åŠŸèƒ½ï¼ˆå¯é€‰ï¼Œ30åˆ†é’Ÿï¼‰

### 8.1 åˆ›å»ºå•è¯å¡ç‰‡ç»„ä»¶

æ–‡ä»¶ `app/components/Flashcard.tsx` åº”è¯¥å·²ç»å­˜åœ¨ï¼Œæ£€æŸ¥ä¸€ä¸‹ã€‚

### 8.2 åˆ›å»ºå­¦ä¹ æ¨¡å¼é¡µé¢

æ–‡ä»¶ `app/study/page.tsx` åº”è¯¥å·²ç»å­˜åœ¨ï¼Œæ£€æŸ¥ä¸€ä¸‹ã€‚

---

## âœ¨ ç¬¬ä¹æ­¥ï¼šç¾åŒ–ç•Œé¢ï¼ˆ20åˆ†é’Ÿï¼‰

### 9.1 æ·»åŠ æ›´å¥½çš„æ ·å¼

ä½¿ç”¨Tailwind CSSç±»åç¾åŒ–å„ä¸ªç»„ä»¶ï¼š
- æ·»åŠ é˜´å½±ã€åœ†è§’
- æ”¹å–„é¢œè‰²æ­é…
- æ·»åŠ hoveræ•ˆæœ
- ç¡®ä¿æ‰‹æœºç«¯ä¹Ÿèƒ½æ­£å¸¸æ˜¾ç¤º

### 9.2 æ·»åŠ åŠ¨ç”»

ä½¿ç”¨Framer Motionæ·»åŠ è¿‡æ¸¡åŠ¨ç”»ã€‚

---

## ğŸ‰ å®Œæˆï¼

ç°åœ¨ä½ çš„AIå­—å…¸åº”ç”¨åº”è¯¥å¯ä»¥ï¼š
- âœ… æŸ¥è¯¢å•è¯
- âœ… æ˜¾ç¤ºAIç”Ÿæˆçš„è§£é‡Šã€å›¾ç‰‡ã€ä¾‹å¥
- âœ… ä¿å­˜å•è¯åˆ°ç¬”è®°æœ¬ï¼ˆä½¿ç”¨æµè§ˆå™¨æœ¬åœ°å­˜å‚¨ï¼‰
- âœ… æŸ¥çœ‹ä¿å­˜çš„å•è¯
- âœ… ï¼ˆå¯é€‰ï¼‰ç”Ÿæˆæ•…äº‹å’Œå­¦ä¹ æ¨¡å¼

---

## ğŸ› å¸¸è§é—®é¢˜è§£å†³

### é—®é¢˜1ï¼šOpenAI APIé”™è¯¯
**è§£å†³**ï¼š
- æ£€æŸ¥ `.env.local` ä¸­çš„å¯†é’¥æ˜¯å¦æ­£ç¡®
- æ£€æŸ¥OpenAIè´¦æˆ·æ˜¯å¦æœ‰ä½™é¢
- æ£€æŸ¥ç½‘ç»œè¿æ¥

### é—®é¢˜2ï¼šå›¾ç‰‡ä¸æ˜¾ç¤º
**è§£å†³**ï¼š
- DALL-Eç”Ÿæˆçš„URLå¯èƒ½æœ‰æ—¶æ•ˆæ€§
- å¯ä»¥å°è¯•é‡æ–°ç”Ÿæˆ
- æˆ–è€…ä½¿ç”¨Base64ä¿å­˜ï¼ˆè§storage.tsä¸­çš„å‡½æ•°ï¼‰

### é—®é¢˜3ï¼šæ•°æ®ä¸¢å¤±
**è§£å†³**ï¼š
- æ¸…é™¤æµè§ˆå™¨æ•°æ®ä¼šåˆ é™¤localStorage
- è¿™æ˜¯æ­£å¸¸çš„ï¼Œå› ä¸ºæ•°æ®åªå­˜åœ¨æµè§ˆå™¨ä¸­
- å¦‚æœéœ€è¦æ°¸ä¹…ä¿å­˜ï¼Œéœ€è¦ä½¿ç”¨æ•°æ®åº“

### é—®é¢˜4ï¼šå­˜å‚¨ç©ºé—´ä¸è¶³
**è§£å†³**ï¼š
- localStorageé€šå¸¸é™åˆ¶ä¸º5-10MB
- å¦‚æœæ»¡äº†ï¼Œå¯ä»¥åˆ é™¤ä¸€äº›æ—§æ¡ç›®
- æˆ–è€…ä½¿ç”¨Base64å‹ç¼©å›¾ç‰‡

---

## ğŸ“š ä¸‹ä¸€æ­¥å­¦ä¹ 

1. **æ·»åŠ ç”¨æˆ·è®¤è¯**ï¼šè®©ä¸åŒç”¨æˆ·æœ‰è‡ªå·±çš„ç¬”è®°æœ¬
2. **ä½¿ç”¨æ•°æ®åº“**ï¼šå¦‚æœéœ€è¦è·¨è®¾å¤‡åŒæ­¥
3. **éƒ¨ç½²åˆ°ç½‘ä¸Š**ï¼šä½¿ç”¨Vercelå…è´¹éƒ¨ç½²
4. **æ·»åŠ æ›´å¤šåŠŸèƒ½**ï¼šå‘éŸ³ã€æ›´å¤šå­¦ä¹ æ¨¡å¼ç­‰

---

## ğŸ’¡ æç¤º

- **ä¸è¦å®³æ€•å‡ºé”™**ï¼šç¼–ç¨‹å°±æ˜¯ä¸æ–­è°ƒè¯•çš„è¿‡ç¨‹
- **å…ˆè®©åŸºæœ¬åŠŸèƒ½è·‘èµ·æ¥**ï¼šå†æ…¢æ…¢æ·»åŠ åŠŸèƒ½
- **å¤šçœ‹é”™è¯¯ä¿¡æ¯**ï¼šé”™è¯¯ä¿¡æ¯ä¼šå‘Šè¯‰ä½ é—®é¢˜åœ¨å“ªé‡Œ
- **ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·**ï¼šF12æ‰“å¼€ï¼ŒæŸ¥çœ‹Consoleæ ‡ç­¾é¡µçš„é”™è¯¯

ç¥ä½ ç¼–ç¨‹æ„‰å¿«ï¼ğŸš€

