# User Acceptance Testing (UAT) Plan

## ðŸŽ¯ Purpose
Verify that all features work correctly from a user's perspective after system tests pass.

## âœ… Prerequisites

Before starting UAT:
- [x] System tests passed
- [x] Database migration completed
- [x] Application running (`npm run dev`)
- [x] User logged in to Supabase
- [x] Browser console open (F12) to check for errors

---

## ðŸ“‹ Test Scenarios

### Scenario 1: Basic Word Lookup & Save

**Steps:**
1. Go to homepage (`http://localhost:3000`)
2. Select languages: **English** (target) â†’ **Chinese** (native)
3. Enter word: **"hello"**
4. Click "Look Up" or press Enter

**Expected Results:**
- [ ] Loading animation appears (typing effect)
- [ ] Definition appears in English
- [ ] Translation appears in Chinese
- [ ] 2 example sentences shown
- [ ] Usage note displayed
- [ ] Audio button works (click to hear pronunciation)
- [ ] "Generate Image" button visible (no image auto-generated)
- [ ] "Save to Notebook" button visible

**Save to Notebook:**
5. Click "Save to Notebook"

**Expected Results:**
- [ ] Button changes to "Saved to Notebook" with checkmark
- [ ] Success message appears briefly
- [ ] Word is saved

---

### Scenario 2: Multiple Meanings Feature

**Steps:**
1. Look up word: **"bank"** (has multiple meanings)
2. Wait for results

**Expected Results:**
- [ ] Definition shows multiple meanings (numbered: 1. 2. 3.)
- [ ] Each meaning has its own section
- [ ] Each meaning has "Generate Image" button
- [ ] Meanings are clearly separated

**Save Multiple Meanings:**
3. Click "Save to Notebook"

**Expected Results:**
- [ ] Multiple entries created in notebook (one per meaning)
- [ ] Each entry shows "(Meaning 1)", "(Meaning 2)", etc.

**Verify in Notebook:**
4. Go to `/notebook` page
5. Find the word "bank"

**Expected Results:**
- [ ] Multiple entries for "bank" visible
- [ ] Each shows meaning index: "bank (Meaning 1)", "bank (Meaning 2)"
- [ ] Each entry can be expanded/collapsed
- [ ] Each entry has its own "Generate Image" button

---

### Scenario 3: Notebook Priority (Load from Notebook)

**Steps:**
1. Ensure a word is saved in notebook (e.g., "hello" from Scenario 1)
2. Go back to homepage
3. Search for the same word: **"hello"**

**Expected Results:**
- [ ] Results load **instantly** (from notebook, not LLM)
- [ ] Source badge shows **"From Notebook"**
- [ ] Definition matches what was saved
- [ ] No API call to LLM (check Network tab)

---

### Scenario 4: Wikipedia Definition Priority

**Steps:**
1. Look up a common word: **"computer"**
2. Wait for results

**Expected Results:**
- [ ] Definition loads quickly (from Wikipedia)
- [ ] Source shows **"From Wikipedia"** (if available)
- [ ] Definition is comprehensive and accurate
- [ ] Examples generated by LLM appear after definition

---

### Scenario 5: Manual Image Generation

**Steps:**
1. Look up word: **"mountain"**
2. Wait for definition to load

**Expected Results:**
- [ ] **No image shown initially** (not auto-generated)
- [ ] "Generate Image" button visible
- [ ] Click "Generate Image" button

**Expected Results:**
- [ ] Button shows loading state ("Generating Image...")
- [ ] Image appears after generation
- [ ] Image is relevant to the word
- [ ] Hover over image shows "Regenerate image" button

**For Multiple Meanings:**
3. Look up word with multiple meanings: **"spring"**
4. For each meaning, click "Generate Image"

**Expected Results:**
- [ ] Each meaning can generate its own image
- [ ] Images are different for different meanings
- [ ] Images are contextually appropriate

---

### Scenario 6: Notebook Entry Management

**Steps:**
1. Go to `/notebook` page
2. Verify entries are displayed

**Expected Results:**
- [ ] All saved words visible
- [ ] Entries with multiple meanings show "(Meaning X)"
- [ ] Each entry can be expanded to see full details
- [ ] Each entry has "Generate Image" button (if no image)

**Test Image Generation in Notebook:**
3. Expand an entry without image
4. Click "Generate Image"

**Expected Results:**
- [ ] Image generates successfully
- [ ] Image appears in the entry
- [ ] Image persists after page refresh

**Test Delete:**
5. Click delete button on an entry
6. Confirm deletion

**Expected Results:**
- [ ] Entry is removed from list
- [ ] Deletion is permanent
- [ ] No errors in console

---

### Scenario 7: Multiple Meanings in Notebook

**Steps:**
1. Ensure "bank" (or similar word with multiple meanings) is saved
2. Go to notebook
3. Verify multiple entries exist

**Expected Results:**
- [ ] Multiple entries for same word visible
- [ ] Each has different meaning index
- [ ] Each can be managed independently
- [ ] Each can have its own image

**Test Practice:**
4. Each meaning should be practiceable separately
5. Study mode should show each meaning as separate card

---

### Scenario 8: Error Handling

**Test Invalid Word:**
1. Look up: **"asdfghjkl"** (nonsense word)

**Expected Results:**
- [ ] Definition still appears (explains it's not a recognized word)
- [ ] Suggestion provided if applicable
- [ ] Can still save to notebook
- [ ] No crashes or errors

**Test Database Error (if schema wrong):**
2. If meaning_index column missing, should see clear error

**Expected Results:**
- [ ] Error message: "Database schema is incomplete. Please run the migration."
- [ ] Instructions provided: "migrate_to_complete_schema.sql"
- [ ] No silent failures

---

### Scenario 9: Performance & Animation

**Test Loading Animation:**
1. Look up a new word
2. Observe loading state

**Expected Results:**
- [ ] Consistent typing animation (like LLM generation)
- [ ] Minimum 2 seconds animation (smooth)
- [ ] Definition appears first
- [ ] Examples appear after
- [ ] Usage note appears last
- [ ] Animation is smooth and consistent

**Test Response Speed:**
3. Look up word from notebook (already saved)

**Expected Results:**
- [ ] Loads instantly (< 500ms)
- [ ] No API calls
- [ ] Animation still shows (for consistency)

---

### Scenario 10: Cross-Browser & Mobile

**Test Different Browsers:**
- [ ] Chrome: All features work
- [ ] Firefox: All features work
- [ ] Safari: All features work
- [ ] Edge: All features work

**Test Mobile:**
- [ ] Responsive layout works
- [ ] Touch interactions work
- [ ] Images load properly
- [ ] Audio plays
- [ ] Buttons are touch-friendly

---

## ðŸ› Known Issues to Watch For

### Critical Issues (Must Fix):
- [ ] Database errors when saving
- [ ] Multiple meanings not saving separately
- [ ] Images not generating
- [ ] Notebook lookup not working
- [ ] Schema errors in console

### Minor Issues (Nice to Fix):
- [ ] Animation timing
- [ ] Loading states
- [ ] Error messages clarity

---

## ðŸ“Š UAT Checklist

### Core Features:
- [ ] Word lookup works
- [ ] Wikipedia definitions load first
- [ ] LLM examples load after
- [ ] Multiple meanings displayed correctly
- [ ] Multiple meanings save separately
- [ ] Notebook priority works (loads from notebook)
- [ ] Manual image generation works
- [ ] Image generation per meaning works
- [ ] Save to notebook works
- [ ] Notebook displays correctly
- [ ] Delete from notebook works
- [ ] Animation is consistent

### Database:
- [ ] meaning_index column exists
- [ ] Multiple meanings save as separate entries
- [ ] Queries are fast
- [ ] No schema errors

### UI/UX:
- [ ] Loading animations smooth
- [ ] Error messages clear
- [ ] Buttons work correctly
- [ ] Mobile responsive
- [ ] Images display properly

---

## âœ… UAT Sign-Off

After completing all test scenarios:

**Tester Name:** _________________

**Date:** _________________

**Results:**
- [ ] All critical scenarios pass
- [ ] No blocking issues found
- [ ] Ready for production

**Issues Found:**
(List any issues discovered)

---

## ðŸš€ After UAT

If all tests pass:
1. âœ… Ready for production deployment
2. âœ… Document any minor issues for future fixes
3. âœ… Prepare release notes

If issues found:
1. âš ï¸ Fix critical issues
2. âš ï¸ Re-run system tests
3. âš ï¸ Re-run UAT for affected scenarios

---

**Good luck with testing! ðŸ§ª**

